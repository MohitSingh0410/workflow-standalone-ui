(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[424],{53738:function(e,s,t){Promise.resolve().then(t.bind(t,23123))},23123:function(e,s,t){"use strict";t.r(s);var a=t(57437),l=t(2265),c=t(11969),n=t(20068),i=t(43191),r=t(2723),o=t(91705),m=t(40096),d=t(93046),g=t(92173);s.default=()=>{let[e,s]=(0,l.useState)(""),[t,h]=(0,l.useState)([]),u=(0,d.v9)(e=>e.addResources).id[0].prjectId,[x,f]=c.Z.useNotification();console.log(u);let p=async()=>{try{let s={name:e,created_by_id:"3fa85f64-5717-4562-b3fc-2c963f66afa6",project_id:u,stages:t.map(e=>({name:e.stageName,tasks:e.subStages,checklist:e.checklist}))};console.log(s);let a=await g.Z.post("https://spj7xgf470.execute-api.us-east-1.amazonaws.com/dev/workflow",s,{headers:{"Content-Type":"application/json",Accept:"application/json"}});console.log(JSON.stringify(a.data)),N("topRight","success","Workflow saved successfully!")}catch(e){console.error(e),N("topRight","error","Failed to save workflow. Please try again later.")}},j=(e,s)=>{let a=[...t];a[e].stageName=s,h(a)},b=e=>{let s=[...t];s[e].subStages.push(""),h(s)},k=e=>{let s=[...t];s[e].checklist.push(""),h(s)},N=(e,s,t)=>{x[s]({message:t,placement:e})};return(0,a.jsxs)("div",{children:[(0,a.jsxs)("div",{className:"flex justify-between items-center",children:[(0,a.jsx)("h1",{className:"text-3xl font-semibold leading-snug tracking-normal text-left",children:"Workflow Management"}),(0,a.jsx)(r.Z,{style:{fontSize:"20px",color:"blue"}})]}),(0,a.jsx)("h3",{className:"text-2xl font-medium leading-loose tracking-normal text-left pl-3",children:"Creating Workflow"}),(0,a.jsxs)("div",{className:"flex justify-between p-4 items-center bg-white",children:[(0,a.jsx)(n.default,{placeholder:"example",className:"w-1/2",onChange:e=>s(e.target.value)}),(0,a.jsx)(i.ZP,{icon:(0,a.jsx)(o.Z,{}),type:"primary",className:"bg-blue-500",onClick:()=>{h([...t,{stageName:"",subStages:[],checklist:[]}])},children:"Add Stage"})]}),t.map((e,s)=>(0,a.jsxs)("div",{className:"py-2 mt-2 flex flex-col space-y-2",children:[(0,a.jsx)("h3",{className:"text-base font-medium leading-normal tracking-normal text-left",children:"Add Stage"}),(0,a.jsxs)("div",{className:"bg-white p-4 flex items-center justify-between",children:[(0,a.jsx)("h4",{className:"text-sm font-normal leading-snug tracking-normal",children:"Stage Name :"}),(0,a.jsx)(n.default,{placeholder:"Requirement",className:"w-1/2",value:e.stageName,onChange:e=>j(s,e.target.value)}),(0,a.jsx)(m.Z,{style:{color:"red"},onClick:()=>{h(t.filter((e,t)=>t!==s))}}),(0,a.jsx)(i.ZP,{type:"primary",className:"bg-blue-500",onClick:()=>{k(s)},children:"Add Checklist"}),(0,a.jsx)(i.ZP,{type:"primary",className:"bg-blue-500",onClick:()=>b(s),children:"Add Sub Stages"}),f]}),(0,a.jsx)("div",{children:e.subStages.map((e,l)=>(0,a.jsxs)("div",{className:"bg-white p-4 flex items-center justify-between my-1",children:[(0,a.jsx)("h4",{className:"text-sm font-normal leading-snug tracking-normal",children:"Sub Stage Name :"}),(0,a.jsx)(n.default,{placeholder:"Substage",className:"w-1/2",value:e,onChange:e=>{let a=[...t];a[s].subStages[l]=e.target.value,h(a)}}),(0,a.jsx)(i.ZP,{type:"primary",danger:!0,onClick:()=>{let e=[...t];e[s].subStages.splice(l,1),h(e)},children:"Remove"})]},l))}),(0,a.jsx)("div",{children:e.checklist.map((e,l)=>(0,a.jsxs)("div",{className:"bg-white p-4 flex items-center justify-between my-1",children:[(0,a.jsx)("h4",{className:"text-sm font-normal leading-snug tracking-normal",children:"Checklist :"}),(0,a.jsx)(n.default,{placeholder:"Checklist Item",className:"w-1/2",value:e,onChange:e=>{let a=[...t];a[s].checklist[l]=e.target.value,h(a)}}),(0,a.jsx)(i.ZP,{type:"primary",danger:!0,onClick:()=>{let e=[...t];e[s].checklist.splice(l,1),h(e)},children:"Remove"})]},l))})]},s)),(0,a.jsx)("div",{className:"flex justify-center mt-6 w-[100%]",children:(0,a.jsx)(i.ZP,{className:"bg-blue-500 text-white",onClick:p,children:"Save"})})]})}}},function(e){e.O(0,[9017,8658,2881,3191,1288,2173,6503,9307,3046,7749,2971,4938,1744],function(){return e(e.s=53738)}),_N_E=e.O()}]);